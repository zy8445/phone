var PIN = {};
PIN.LoadScript = function(url, callback, charset){
	var t = url.toLowerCase().substring(url.lastIndexOf('.') + 1);
	if(t==='js') {
    	var n = document.createElement("script");
    	n.type = "text/javascript";
	}else if(t==='css'){
		n = document.createElement('link');
		n.type = 'text/css';
		n.rel = 'stylesheet';
	}
    if(charset){n.setAttribute("charset",charset);}
    if (n.readyState){
        n.onreadystatechange = function(){
            if(n.readyState == "loaded" || n.readyState == "complete"){
                n.onreadystatechange = null;
				if(callback)callback();
                document.getElementsByTagName("head")[0].removeChild(this);
            }
        };
    }
    else {
        n.onload = function(){
			if(callback)callback();
            document.getElementsByTagName("head")[0].removeChild(this);
        };
    }
	if(t==='js') {
		n.src = url;
	}else if(t==='css'){
		n.href = url;
	}
    document.getElementsByTagName("head")[0].appendChild(n);
}

function defhover(durl){
	$(".type_List a,.type_List2 a,.navigation a,.top_menu a,#nav a").each(function(){
			 $(this).addClass($(this).attr('href')==durl?'hover':'');
	});
}

//PIN.LoadScript('Public/js/tips/tips.js');
//PIN.LoadScript('Public/js/swfObject.js');
PIN.LoadScript('Public/kings/js/lib.pincolor.min.js',function(){

	$('img[data-cache=true]').cache_images(function(a){$(a).lazyload({placeholder : "Public/images/com/touming.gif",effect : "fadeIn" });});
	
	$(".lazyimg img").lazyload({ 
		placeholder : "Public/images/com/touming.gif",
		effect : "fadeIn" 
	});

	jQuery("a[href='']").attr('target','_self').attr('href','javascript:void(0);');
	jQuery('a[href*=#]').click(function(){jQuery.scrollTo(jQuery(this).attr("href"),1000);return;});
	jQuery('.sct').click(function(){jQuery.scrollTo(jQuery(this).attr("href"),1000);return;});
	

	$(".tp").click(function(){$.scrollTo(0,500);}); 
	//$(".nl").limit();
	defhover(window.location.href);

	$(".soChange").each(function(){
		var _self=$(this);
		var Ctime=_self.attr('Ctime')?_self.attr('Ctime'):3000;
		var delay=_self.attr('delay')?_self.attr('delay'):300;
		var Type=_self.attr('type')?_self.attr('type'):'fade';
		var slideTime=_self.attr('slideTime')?_self.attr('slideTime'):600;
		//alert(slideTime);changeType:'fade',//切换方式，可选：fade,slide，默认为fade
		_self.find("a.a_bigImg").soChange({
			thumbObj:_self.find('.soul li'),
			thumbNowClass:'on',//自定义导航对象当前class为on
			botPrev:_self.find('.top_pre'),
			botNext:_self.find('.top_next'),
			clickFalse:false,
			thumbOverEvent:true,
			overStop:true,
			slideTime:slideTime,
			delayTime:delay,
			changeType:Type,
			//autoChange:false,
			//changeType:'slide',
			changeTime:Ctime//自定义切换时间为4000ms
	
		});
	});
	jQuery(".hoverFv img,.hoverFi").hover(function(){
		jQuery(this).animate({opacity:.25},"fast");
	},function(){
		jQuery(this).animate({opacity:1},"fast");
	});

    $(".hoverFd").hover(function() {$(this).stop().animate({ opacity:0.60}, 200,function(){$(this).animate({ opacity:1}, 300);});});	
	
	var delayRun;

	jQuery(".Vblock1,.Vblock2").hover(function(){
		jQuery(this).find("h3").stop().animate({top:"0px"}, 600,"");
	},function(){
		jQuery(this).find("h3").stop().animate({top:"-510px"}, 400);
	});

    $(".Vblock5 .vbox").click(function() {
		//var _self=$(this).parent();
		var _self=$(this);
		var url=_self.attr("data-url");
		var id=_self.attr("data-id");
		$(".Vblock5").each(function(index, element) {
            $(this).find(".video").html("<i id='"+$(this).find(".vbox").attr("data-id")+"'></i>");
			$(this).find(".vimg").show();
        });
		_self.find(".vimg").hide();
		
		if(url.indexOf(".flv")>-1){
		
			var flashvars = {vcastr_file:url,IsAutoPlay:"1"};
			var params = {wmode:"opaque",allowscriptaccess:"always",allowfullscreen:"true"};
			swfobject.embedSWF("Public/images/swf/vcastr22.swf",id, "720", "480", "9.0.0", "expressInstall.swf", flashvars,params);
		
		}else{
			
			var flashvars = {dataFile:"",showLogo:"false"};
			var params = {wmode:"opaque",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};
			swfobject.embedSWF(url,id, "720", "480", "9.0.0", "expressInstall.swf", flashvars,params);
			
		}
		
		return false;
    });

	$('#newsbody img').imgAutoSize(1160,8820);
	$("#mr_frUl1 .mr_frUl").jCarouselLite({
	    btnNext: "#mr_frUl1 .next",
	    btnPrev: "#mr_frUl1 .prev",
		mouseWheel: true,
		animation:'slow',
		visible: 3,
		auto: 2000, //自动滚动，2000（毫秒）=1秒，删除即不自动滚动
		scroll: 1,
		easing: "easeOutBack",
		vertical:false, //纵向滚动
		onMouse: true,
		speed: 800
	});
	$("#mr_frUl2 .mr_frUl").jCarouselLite({
	    btnNext: "#mr_frUl2 .next",
	    btnPrev: "#mr_frUl2 .prev",
		mouseWheel: true,
		animation:'slow',
		visible: 4,
		auto: 2000, //自动滚动，2000（毫秒）=1秒，删除即不自动滚动
		scroll: 2,
		easing: "easeOutBack",
		vertical:false, //纵向滚动
		onMouse: true,
		speed: 800
	});
	$("#mr_frUl3 .mr_frUl").jCarouselLite({
	    btnNext: "#mr_frUl3 .next",
	    btnPrev: "#mr_frUl3 .prev",
		mouseWheel: true,
		animation:'slow',
		visible: 5,
		auto: 2000, //自动滚动，2000（毫秒）=1秒，删除即不自动滚动
		scroll: 5,
		easing: "easeOutBack",
		vertical:false, //纵向滚动
		onMouse: true,
		speed: 800
	});
	$("#mr_frUl4 .mr_frUl").jCarouselLite({
	    btnNext: "#mr_frUl4 .next",
	    btnPrev: "#mr_frUl4 .prev",
		mouseWheel: true,
		animation:'slow',
		visible: 3,
		auto: 2000, //自动滚动，2000（毫秒）=1秒，删除即不自动滚动
		scroll: 1,
		easing: "easeOutBack",
		vertical:true, //纵向滚动
		onMouse: true,
		speed: 800
	});

	//$('body').live('contextmenu', function(e) {return false;}); $('body').live('dragstart', function(e) {return false;});document.body.onselectstart = function(){return false;};document.body.onbeforecopy = function(){return false;};

});



function IEhtml5(){
	var args = IEhtml5.arguments;
	for(var i=0; i<args.length; i++)
	{
		//alert(args[i]);
		document.createElement(args[i]);
	}
}
IEhtml5("article","details","footer","header","nav","summary","time");

$("#kcon img").hover(function () {
		$("#kcon img").not($(this)).stop().animate({ opacity: 0.3 }, 300);
	}, function () {
		$("#kcon img").not($(this)).stop().animate({ opacity: 1 }, 300);
	});

$(".viimg").hover(
	function(){
		var that=this;
				$(that).find(".xj").animate({left:0,top:0,opacity:1},300);
		},
	function(){
		var that=this;
		$(that).find(".xj").stop().animate({left:0,top:-1000,opacity:0},300);
		}
	)
	$(".vi").hover(
	function(){
		var that=this;
				$(that).find(".xj2").animate({left:0,top:0,opacity:1},300);
		},
	function(){
		var that=this;
		$(that).find(".xj2").stop().animate({left:0,top:-370,opacity:0},300);
		}
	)
	/*图片上移效果*/	
	 $(".ert").hover(function(){
	  $(this).stop().animate({top:"-10px"},250);
	},function(){
	  $(this).stop().animate({top:"0px"},250);
	});	
	
	 $(".pai ul li a").hover(function(){
	  $(this).stop().animate({top:"-10px"},250);
	},function(){
	  $(this).stop().animate({top:"0px"},250);
	});	
	/*顶部导航渐出效果*/	
	var topMain=$(".topcon").height()//+$(".head").height()
		  $(window).scroll(function(){
			  if ($(window).scrollTop()>topMain){
				  $(".scorollNav").slideDown(1000);
			  }
			  else
			  {
				  $(".scorollNav").slideUp(1000);
			  }
	});
	
	/*nav*/
var navAddres=$(".morenav .on");
$(".morenav li").hover(
	function(){
		$(this).parent().children().removeClass("on");
		$(this).addClass("on");
		$(this).parents(".list").addClass("hover");
	},
	function(){
		$(this).removeClass("on");
		navAddres.addClass("on");
		$(this).parents(".list").removeClass("hover");
	}
)

$(".topnav ul li").hover(
	function(){
		$(this).children("ul").attr({"style":"opacity:0"}).show(),
		$(this).children("ul").animate({"opacity":"1"},500)
	},
	function(){
		$(this).children("ul").hide();
	}
	);